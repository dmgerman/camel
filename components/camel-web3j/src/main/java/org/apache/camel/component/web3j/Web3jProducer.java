begin_unit|revision:0.9.5;language:Java;cregit-version:0.0.1
begin_comment
comment|/*  * Licensed to the Apache Software Foundation (ASF) under one or more  * contributor license agreements.  See the NOTICE file distributed with  * this work for additional information regarding copyright ownership.  * The ASF licenses this file to You under the Apache License, Version 2.0  * (the "License"); you may not use this file except in compliance with  * the License.  You may obtain a copy of the License at  *  *      http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_package
DECL|package|org.apache.camel.component.web3j
package|package
name|org
operator|.
name|apache
operator|.
name|camel
operator|.
name|component
operator|.
name|web3j
package|;
end_package

begin_import
import|import
name|java
operator|.
name|io
operator|.
name|IOException
import|;
end_import

begin_import
import|import
name|java
operator|.
name|math
operator|.
name|BigInteger
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|camel
operator|.
name|CamelExchangeException
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|camel
operator|.
name|Message
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|camel
operator|.
name|spi
operator|.
name|InvokeOnHeader
import|;
end_import

begin_import
import|import
name|org
operator|.
name|apache
operator|.
name|camel
operator|.
name|support
operator|.
name|HeaderSelectorProducer
import|;
end_import

begin_import
import|import
name|org
operator|.
name|slf4j
operator|.
name|Logger
import|;
end_import

begin_import
import|import
name|org
operator|.
name|slf4j
operator|.
name|LoggerFactory
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|Web3j
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|DefaultBlockParameter
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|Request
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|Response
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|DbGetHex
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|DbGetString
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|DbPutHex
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|DbPutString
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthAccounts
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthBlock
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthBlockNumber
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthCall
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthCoinbase
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthCompileLLL
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthCompileSerpent
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthCompileSolidity
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthEstimateGas
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthFilter
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGasPrice
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetBalance
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetBlockTransactionCountByHash
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetBlockTransactionCountByNumber
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetCode
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetCompilers
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetStorageAt
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetTransactionCount
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetTransactionReceipt
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetUncleCountByBlockHash
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetUncleCountByBlockNumber
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthGetWork
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthHashrate
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthLog
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthMining
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthProtocolVersion
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthSendTransaction
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthSign
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthSubmitHashrate
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthSubmitWork
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthSyncing
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthTransaction
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|EthUninstallFilter
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|NetListening
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|NetPeerCount
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|NetVersion
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhAddToGroup
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhHasIdentity
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhMessages
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhNewFilter
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhNewGroup
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhNewIdentity
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhPost
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhUninstallFilter
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|ShhVersion
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|VoidResponse
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|Web3ClientVersion
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|response
operator|.
name|Web3Sha3
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|Quorum
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|request
operator|.
name|PrivateTransaction
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|response
operator|.
name|BlockMaker
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|response
operator|.
name|CanonicalHash
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|response
operator|.
name|MakeBlock
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|response
operator|.
name|PrivatePayload
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|response
operator|.
name|QuorumNodeInfo
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|response
operator|.
name|Vote
import|;
end_import

begin_import
import|import
name|org
operator|.
name|web3j
operator|.
name|quorum
operator|.
name|methods
operator|.
name|response
operator|.
name|Voter
import|;
end_import

begin_class
DECL|class|Web3jProducer
specifier|public
class|class
name|Web3jProducer
extends|extends
name|HeaderSelectorProducer
block|{
DECL|field|LOG
specifier|private
specifier|static
specifier|final
name|Logger
name|LOG
init|=
name|LoggerFactory
operator|.
name|getLogger
argument_list|(
name|Web3jProducer
operator|.
name|class
argument_list|)
decl_stmt|;
DECL|field|web3j
specifier|private
name|Web3j
name|web3j
decl_stmt|;
DECL|field|quorum
specifier|private
name|Quorum
name|quorum
decl_stmt|;
DECL|field|configuration
specifier|private
name|Web3jConfiguration
name|configuration
decl_stmt|;
DECL|method|Web3jProducer (Web3jEndpoint endpoint, final Web3jConfiguration configuration)
specifier|public
name|Web3jProducer
parameter_list|(
name|Web3jEndpoint
name|endpoint
parameter_list|,
specifier|final
name|Web3jConfiguration
name|configuration
parameter_list|)
block|{
name|super
argument_list|(
name|endpoint
argument_list|,
name|Web3jConstants
operator|.
name|OPERATION
argument_list|,
parameter_list|()
lambda|->
name|configuration
operator|.
name|getOperationOrDefault
argument_list|()
argument_list|,
literal|false
argument_list|)
expr_stmt|;
name|web3j
operator|=
name|endpoint
operator|.
name|getWeb3j
argument_list|()
expr_stmt|;
name|this
operator|.
name|configuration
operator|=
name|configuration
expr_stmt|;
if|if
condition|(
name|web3j
operator|instanceof
name|Quorum
condition|)
block|{
name|quorum
operator|=
operator|(
name|Quorum
operator|)
name|web3j
expr_stmt|;
block|}
block|}
annotation|@
name|Override
DECL|method|getEndpoint ()
specifier|public
name|Web3jEndpoint
name|getEndpoint
parameter_list|()
block|{
return|return
operator|(
name|Web3jEndpoint
operator|)
name|super
operator|.
name|getEndpoint
argument_list|()
return|;
block|}
annotation|@
name|Override
DECL|method|doStart ()
specifier|protected
name|void
name|doStart
parameter_list|()
throws|throws
name|Exception
block|{
name|super
operator|.
name|doStart
argument_list|()
expr_stmt|;
block|}
annotation|@
name|Override
DECL|method|doStop ()
specifier|protected
name|void
name|doStop
parameter_list|()
throws|throws
name|Exception
block|{
name|super
operator|.
name|doStop
argument_list|()
expr_stmt|;
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|WEB3_CLIENT_VERSION
argument_list|)
DECL|method|web3ClientVersion (Message message)
name|void
name|web3ClientVersion
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|Web3ClientVersion
argument_list|>
name|web3ClientVersionRequest
init|=
name|web3j
operator|.
name|web3ClientVersion
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|web3ClientVersionRequest
argument_list|)
expr_stmt|;
name|Web3ClientVersion
name|response
init|=
name|web3ClientVersionRequest
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getWeb3ClientVersion
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|WEB3_SHA3
argument_list|)
DECL|method|web3Sha3 (Message message)
name|void
name|web3Sha3
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|Web3Sha3
argument_list|>
name|web3Sha3Request
init|=
name|web3j
operator|.
name|web3Sha3
argument_list|(
name|message
operator|.
name|getBody
argument_list|(
name|String
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|web3Sha3Request
argument_list|)
expr_stmt|;
name|Web3Sha3
name|response
init|=
name|web3Sha3Request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getResult
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|NET_VERSION
argument_list|)
DECL|method|netVersion (Message message)
name|void
name|netVersion
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|NetVersion
argument_list|>
name|netVersionRequest
init|=
name|web3j
operator|.
name|netVersion
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|netVersionRequest
argument_list|)
expr_stmt|;
name|NetVersion
name|response
init|=
name|netVersionRequest
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getNetVersion
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|NET_LISTENING
argument_list|)
DECL|method|netListening (Message message)
name|void
name|netListening
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|NetListening
argument_list|>
name|netListeningRequest
init|=
name|web3j
operator|.
name|netListening
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|netListeningRequest
argument_list|)
expr_stmt|;
name|NetListening
name|response
init|=
name|netListeningRequest
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isListening
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|NET_PEER_COUNT
argument_list|)
DECL|method|netPeerCount (Message message)
name|void
name|netPeerCount
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|NetPeerCount
argument_list|>
name|request
init|=
name|web3j
operator|.
name|netPeerCount
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|NetPeerCount
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getQuantity
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_PROTOCOL_VERSION
argument_list|)
DECL|method|ethProtocolVersion (Message message)
name|void
name|ethProtocolVersion
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthProtocolVersion
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethProtocolVersion
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthProtocolVersion
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getProtocolVersion
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_SYNCING
argument_list|)
DECL|method|ethSyncing (Message message)
name|void
name|ethSyncing
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthSyncing
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethSyncing
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthSyncing
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isSyncing
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_COINBASE
argument_list|)
DECL|method|ethCoinbase (Message message)
name|void
name|ethCoinbase
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthCoinbase
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethCoinbase
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthCoinbase
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getAddress
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_MINING
argument_list|)
DECL|method|ethMining (Message message)
name|void
name|ethMining
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthMining
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethMining
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthMining
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isMining
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_HASHRATE
argument_list|)
DECL|method|ethHashrate (Message message)
name|void
name|ethHashrate
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthHashrate
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethHashrate
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthHashrate
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getHashrate
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GAS_PRICE
argument_list|)
DECL|method|ethGasPrice (Message message)
name|void
name|ethGasPrice
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthGasPrice
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGasPrice
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGasPrice
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getGasPrice
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_ACCOUNTS
argument_list|)
DECL|method|ethAccounts (Message message)
name|void
name|ethAccounts
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthAccounts
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethAccounts
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthAccounts
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getAccounts
argument_list|()
argument_list|)
expr_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getAccounts
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_BLOCK_NUMBER
argument_list|)
DECL|method|ethBlockNumber (Message message)
name|void
name|ethBlockNumber
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthBlockNumber
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethBlockNumber
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthBlockNumber
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getBlockNumber
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_BALANCE
argument_list|)
DECL|method|ethGetBalance (Message message)
name|void
name|ethGetBalance
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|address
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetBalance
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetBalance
argument_list|(
name|address
argument_list|,
name|atBlock
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetBalance
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getBalance
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_STORAGE_AT
argument_list|)
DECL|method|ethGetStorageAt (Message message)
name|void
name|ethGetStorageAt
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|address
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|BigInteger
name|position
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|POSITION
argument_list|,
name|configuration
operator|::
name|getPosition
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetStorageAt
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetStorageAt
argument_list|(
name|address
argument_list|,
name|position
argument_list|,
name|atBlock
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetStorageAt
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getData
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_TRANSACTION_COUNT
argument_list|)
DECL|method|ethGetTransactionCount (Message message)
name|void
name|ethGetTransactionCount
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|address
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetTransactionCount
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetTransactionCount
argument_list|(
name|address
argument_list|,
name|atBlock
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetTransactionCount
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionCount
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_BLOCK_TRANSACTION_COUNT_BY_HASH
argument_list|)
DECL|method|ethGetBlockTransactionCountByHash (Message message)
name|void
name|ethGetBlockTransactionCountByHash
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|blockHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|BLOCK_HASH
argument_list|,
name|configuration
operator|::
name|getBlockHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetBlockTransactionCountByHash
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetBlockTransactionCountByHash
argument_list|(
name|blockHash
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetBlockTransactionCountByHash
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionCount
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_BLOCK_TRANSACTION_COUNT_BY_NUMBER
argument_list|)
DECL|method|ethGetBlockTransactionCountByNumber (Message message)
name|void
name|ethGetBlockTransactionCountByNumber
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetBlockTransactionCountByNumber
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetBlockTransactionCountByNumber
argument_list|(
name|atBlock
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetBlockTransactionCountByNumber
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionCount
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_UNCLE_COUNT_BY_BLOCK_HASH
argument_list|)
DECL|method|ethGetUncleCountByBlockHash (Message message)
name|void
name|ethGetUncleCountByBlockHash
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|blockHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|BLOCK_HASH
argument_list|,
name|configuration
operator|::
name|getBlockHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetUncleCountByBlockHash
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetUncleCountByBlockHash
argument_list|(
name|blockHash
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetUncleCountByBlockHash
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getUncleCount
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_UNCLE_COUNT_BY_BLOCK_NUMBER
argument_list|)
DECL|method|ethGetUncleCountByBlockNumber (Message message)
name|void
name|ethGetUncleCountByBlockNumber
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetUncleCountByBlockNumber
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetUncleCountByBlockNumber
argument_list|(
name|atBlock
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetUncleCountByBlockNumber
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getUncleCount
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_CODE
argument_list|)
DECL|method|ethGetCode (Message message)
name|void
name|ethGetCode
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|String
name|address
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetCode
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetCode
argument_list|(
name|address
argument_list|,
name|atBlock
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetCode
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getCode
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_SIGN
argument_list|)
DECL|method|ethSign (Message message)
name|void
name|ethSign
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|address
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|sha3HashOfDataToSign
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHA3_HASH_OF_DATA_TO_SIGN
argument_list|,
name|configuration
operator|::
name|getSha3HashOfDataToSign
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthSign
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethSign
argument_list|(
name|address
argument_list|,
name|sha3HashOfDataToSign
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthSign
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getSignature
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_SEND_TRANSACTION
argument_list|)
DECL|method|ethSendTransaction (Message message)
name|void
name|ethSendTransaction
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|fromAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FROM_ADDRESS
argument_list|,
name|configuration
operator|::
name|getFromAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|toAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TO_ADDRESS
argument_list|,
name|configuration
operator|::
name|getToAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|nonce
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|NONCE
argument_list|,
name|configuration
operator|::
name|getNonce
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|gasPrice
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|GAS_PRICE
argument_list|,
name|configuration
operator|::
name|getGasPrice
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|gasLimit
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|GAS_LIMIT
argument_list|,
name|configuration
operator|::
name|getGasLimit
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|value
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|VALUE
argument_list|,
name|configuration
operator|::
name|getValue
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|data
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATA
argument_list|,
name|configuration
operator|::
name|getData
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|Transaction
name|transaction
init|=
operator|new
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|Transaction
argument_list|(
name|fromAddress
argument_list|,
name|nonce
argument_list|,
name|gasPrice
argument_list|,
name|gasLimit
argument_list|,
name|toAddress
argument_list|,
name|value
argument_list|,
name|data
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthSendTransaction
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethSendTransaction
argument_list|(
name|transaction
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthSendTransaction
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionHash
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_SEND_RAW_TRANSACTION
argument_list|)
DECL|method|ethSendRawTransaction (Message message)
name|void
name|ethSendRawTransaction
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|signedTransactionData
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|SIGNED_TRANSACTION_DATA
argument_list|,
name|configuration
operator|::
name|getSignedTransactionData
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthSendTransaction
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethSendRawTransaction
argument_list|(
name|signedTransactionData
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthSendTransaction
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionHash
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_CALL
argument_list|)
DECL|method|ethCall (Message message)
name|void
name|ethCall
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|fromAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FROM_ADDRESS
argument_list|,
name|configuration
operator|::
name|getFromAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|toAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TO_ADDRESS
argument_list|,
name|configuration
operator|::
name|getToAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|nonce
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|NONCE
argument_list|,
name|configuration
operator|::
name|getNonce
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|gasPrice
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|GAS_PRICE
argument_list|,
name|configuration
operator|::
name|getGasPrice
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|gasLimit
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|GAS_LIMIT
argument_list|,
name|configuration
operator|::
name|getGasLimit
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|value
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|VALUE
argument_list|,
name|configuration
operator|::
name|getValue
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|data
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATA
argument_list|,
name|configuration
operator|::
name|getData
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|Transaction
name|transaction
init|=
operator|new
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|Transaction
argument_list|(
name|fromAddress
argument_list|,
name|nonce
argument_list|,
name|gasPrice
argument_list|,
name|gasLimit
argument_list|,
name|toAddress
argument_list|,
name|value
argument_list|,
name|data
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthCall
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethCall
argument_list|(
name|transaction
argument_list|,
name|atBlock
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthCall
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getValue
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_ESTIMATE_GAS
argument_list|)
DECL|method|ethEstimateGas (Message message)
name|void
name|ethEstimateGas
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|fromAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FROM_ADDRESS
argument_list|,
name|configuration
operator|::
name|getFromAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|toAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TO_ADDRESS
argument_list|,
name|configuration
operator|::
name|getToAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|data
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATA
argument_list|,
name|configuration
operator|::
name|getData
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|Transaction
name|transaction
init|=
operator|new
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|Transaction
argument_list|(
name|fromAddress
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
literal|null
argument_list|,
name|toAddress
argument_list|,
literal|null
argument_list|,
name|data
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthEstimateGas
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethEstimateGas
argument_list|(
name|transaction
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthEstimateGas
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getAmountUsed
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_BLOCK_BY_HASH
argument_list|)
DECL|method|ethGetBlockByHash (Message message)
name|void
name|ethGetBlockByHash
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Boolean
name|fullTransactionObjects
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FULL_TRANSACTION_OBJECTS
argument_list|,
name|configuration
operator|::
name|isFullTransactionObjects
argument_list|,
name|Boolean
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|blockHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|BLOCK_HASH
argument_list|,
name|configuration
operator|::
name|getBlockHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthBlock
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetBlockByHash
argument_list|(
name|blockHash
argument_list|,
name|fullTransactionObjects
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthBlock
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getBlock
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_BLOCK_BY_NUMBER
argument_list|)
DECL|method|ethGetBlockByNumber (Message message)
name|void
name|ethGetBlockByNumber
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|Boolean
name|fullTransactionObjects
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FULL_TRANSACTION_OBJECTS
argument_list|,
name|configuration
operator|::
name|isFullTransactionObjects
argument_list|,
name|Boolean
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthBlock
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetBlockByNumber
argument_list|(
name|atBlock
argument_list|,
name|fullTransactionObjects
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthBlock
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getBlock
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_TRANSACTION_BY_HASH
argument_list|)
DECL|method|ethGetTransactionByHash (Message message)
name|void
name|ethGetTransactionByHash
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|transactionHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TRANSACTION_HASH
argument_list|,
name|configuration
operator|::
name|getTransactionHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthTransaction
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetTransactionByHash
argument_list|(
name|transactionHash
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthTransaction
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransaction
argument_list|()
operator|.
name|isPresent
argument_list|()
condition|?
name|response
operator|.
name|getTransaction
argument_list|()
operator|.
name|get
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_TRANSACTION_BY_BLOCK_HASH_AND_INDEX
argument_list|)
DECL|method|ethGetTransactionByBlockHashAndIndex (Message message)
name|void
name|ethGetTransactionByBlockHashAndIndex
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|blockHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|BLOCK_HASH
argument_list|,
name|configuration
operator|::
name|getBlockHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|transactionIndex
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|INDEX
argument_list|,
name|configuration
operator|::
name|getIndex
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthTransaction
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetTransactionByBlockHashAndIndex
argument_list|(
name|blockHash
argument_list|,
name|transactionIndex
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthTransaction
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransaction
argument_list|()
operator|.
name|isPresent
argument_list|()
condition|?
name|response
operator|.
name|getTransaction
argument_list|()
operator|.
name|get
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_TRANSACTION_BY_BLOCK_NUMBER_AND_INDEX
argument_list|)
DECL|method|ethGetTransactionByBlockNumberAndIndex (Message message)
name|void
name|ethGetTransactionByBlockNumberAndIndex
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|BigInteger
name|transactionIndex
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|INDEX
argument_list|,
name|configuration
operator|::
name|getIndex
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthTransaction
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetTransactionByBlockNumberAndIndex
argument_list|(
name|atBlock
argument_list|,
name|transactionIndex
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthTransaction
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransaction
argument_list|()
operator|.
name|isPresent
argument_list|()
condition|?
name|response
operator|.
name|getTransaction
argument_list|()
operator|.
name|get
argument_list|()
else|:
literal|null
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_UNCLE_BY_BLOCK_HASH_AND_INDEX
argument_list|)
DECL|method|ethGetUncleByBlockHashAndIndex (Message message)
name|void
name|ethGetUncleByBlockHashAndIndex
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|blockHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|BLOCK_HASH
argument_list|,
name|configuration
operator|::
name|getBlockHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|uncleIndex
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|INDEX
argument_list|,
name|configuration
operator|::
name|getIndex
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthBlock
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetUncleByBlockHashAndIndex
argument_list|(
name|blockHash
argument_list|,
name|uncleIndex
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthBlock
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getBlock
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_UNCLE_BY_BLOCK_NUMBER_AND_INDEX
argument_list|)
DECL|method|ethGetUncleByBlockNumberAndIndex (Message message)
name|void
name|ethGetUncleByBlockNumberAndIndex
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|atBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|AT_BLOCK
argument_list|,
name|configuration
operator|::
name|getAtBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|BigInteger
name|uncleIndex
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|INDEX
argument_list|,
name|configuration
operator|::
name|getIndex
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthBlock
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetUncleByBlockNumberAndIndex
argument_list|(
name|atBlock
argument_list|,
name|uncleIndex
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthBlock
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getBlock
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_TRANSACTION_RECEIPT
argument_list|)
DECL|method|ethGetTransactionReceipt (Message message)
name|void
name|ethGetTransactionReceipt
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|transactionHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TRANSACTION_HASH
argument_list|,
name|configuration
operator|::
name|getTransactionHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetTransactionReceipt
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetTransactionReceipt
argument_list|(
name|transactionHash
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetTransactionReceipt
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionReceipt
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_COMPILERS
argument_list|)
DECL|method|ethGetCompilers (Message message)
name|void
name|ethGetCompilers
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetCompilers
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetCompilers
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetCompilers
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getCompilers
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_COMPILE_LLL
argument_list|)
DECL|method|ethCompileLLL (Message message)
name|void
name|ethCompileLLL
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|sourceCode
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|SOURCE_CODE
argument_list|,
name|configuration
operator|::
name|getSourceCode
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthCompileLLL
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethCompileLLL
argument_list|(
name|sourceCode
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthCompileLLL
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getCompiledSourceCode
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_COMPILE_SOLIDITY
argument_list|)
DECL|method|ethCompileSolidity (Message message)
name|void
name|ethCompileSolidity
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|sourceCode
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|SOURCE_CODE
argument_list|,
name|configuration
operator|::
name|getSourceCode
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthCompileSolidity
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethCompileSolidity
argument_list|(
name|sourceCode
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthCompileSolidity
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getCompiledSolidity
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_COMPILE_SERPENT
argument_list|)
DECL|method|ethCompileSerpent (Message message)
name|void
name|ethCompileSerpent
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|sourceCode
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|SOURCE_CODE
argument_list|,
name|configuration
operator|::
name|getSourceCode
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthCompileSerpent
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethCompileSerpent
argument_list|(
name|sourceCode
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthCompileSerpent
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getCompiledSourceCode
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_NEW_FILTER
argument_list|)
DECL|method|ethNewFilter (Message message)
name|void
name|ethNewFilter
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|fromBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FROM_BLOCK
argument_list|,
name|configuration
operator|::
name|getFromBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|DefaultBlockParameter
name|toBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TO_BLOCK
argument_list|,
name|configuration
operator|::
name|getToBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|addresses
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESSES
argument_list|,
name|configuration
operator|::
name|getAddresses
argument_list|,
name|List
operator|.
name|class
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|topics
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TOPICS
argument_list|,
name|configuration
operator|::
name|getTopics
argument_list|,
name|List
operator|.
name|class
argument_list|)
decl_stmt|;
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|EthFilter
name|ethFilter
init|=
name|Web3jEndpoint
operator|.
name|buildEthFilter
argument_list|(
name|fromBlock
argument_list|,
name|toBlock
argument_list|,
name|addresses
argument_list|,
name|topics
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthFilter
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethNewFilter
argument_list|(
name|ethFilter
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthFilter
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getFilterId
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_NEW_BLOCK_FILTER
argument_list|)
DECL|method|ethNewBlockFilter (Message message)
name|void
name|ethNewBlockFilter
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthFilter
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethNewBlockFilter
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthFilter
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getFilterId
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_NEW_PENDING_TRANSACTION_FILTER
argument_list|)
DECL|method|ethNewPendingTransactionFilter (Message message)
name|void
name|ethNewPendingTransactionFilter
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthFilter
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethNewPendingTransactionFilter
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthFilter
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getFilterId
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_UNINSTALL_FILTER
argument_list|)
DECL|method|ethUninstallFilter (Message message)
name|void
name|ethUninstallFilter
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|BigInteger
name|filterId
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FILTER_ID
argument_list|,
name|configuration
operator|::
name|getFilterId
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthUninstallFilter
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethUninstallFilter
argument_list|(
name|filterId
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthUninstallFilter
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isUninstalled
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_FILTER_CHANGES
argument_list|)
DECL|method|ethGetFilterChanges (Message message)
name|void
name|ethGetFilterChanges
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|BigInteger
name|filterId
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FILTER_ID
argument_list|,
name|configuration
operator|::
name|getFilterId
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthLog
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetFilterChanges
argument_list|(
name|filterId
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthLog
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getLogs
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_FILTER_LOGS
argument_list|)
DECL|method|ethGetFilterLogs (Message message)
name|void
name|ethGetFilterLogs
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|BigInteger
name|filterId
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FILTER_ID
argument_list|,
name|configuration
operator|::
name|getFilterId
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthLog
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetFilterLogs
argument_list|(
name|filterId
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthLog
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getLogs
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_LOGS
argument_list|)
DECL|method|ethGetLogs (Message message)
name|void
name|ethGetLogs
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|DefaultBlockParameter
name|fromBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FROM_BLOCK
argument_list|,
name|configuration
operator|::
name|getFromBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|DefaultBlockParameter
name|toBlock
init|=
name|toBlockParameter
argument_list|(
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TO_BLOCK
argument_list|,
name|configuration
operator|::
name|getToBlock
argument_list|,
name|Object
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|addresses
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESSES
argument_list|,
name|configuration
operator|::
name|getAddresses
argument_list|,
name|List
operator|.
name|class
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|topics
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TOPICS
argument_list|,
name|configuration
operator|::
name|getTopics
argument_list|,
name|List
operator|.
name|class
argument_list|)
decl_stmt|;
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|EthFilter
name|ethFilter
init|=
name|Web3jEndpoint
operator|.
name|buildEthFilter
argument_list|(
name|fromBlock
argument_list|,
name|toBlock
argument_list|,
name|addresses
argument_list|,
name|topics
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthLog
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetLogs
argument_list|(
name|ethFilter
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthLog
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getLogs
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_GET_WORK
argument_list|)
DECL|method|ethGetWork (Message message)
name|void
name|ethGetWork
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|EthGetWork
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethGetWork
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthGetWork
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getResult
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_SUBMIT_WORK
argument_list|)
DECL|method|ethSubmitWork (Message message)
name|void
name|ethSubmitWork
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|nonce
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|NONCE
argument_list|,
name|configuration
operator|::
name|getNonce
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|headerPowHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|HEADER_POW_HASH
argument_list|,
name|configuration
operator|::
name|getHeaderPowHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|mixDigest
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|MIX_DIGEST
argument_list|,
name|configuration
operator|::
name|getHeaderPowHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthSubmitWork
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethSubmitWork
argument_list|(
name|nonce
argument_list|,
name|headerPowHash
argument_list|,
name|mixDigest
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthSubmitWork
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|solutionValid
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_SUBMIT_HASHRATE
argument_list|)
DECL|method|ethSubmitHashrate (Message message)
name|void
name|ethSubmitHashrate
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|hashrate
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ETH_HASHRATE
argument_list|,
name|configuration
operator|::
name|getHashrate
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|clientId
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|CLIENT_ID
argument_list|,
name|configuration
operator|::
name|getClientId
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthSubmitHashrate
argument_list|>
name|request
init|=
name|web3j
operator|.
name|ethSubmitHashrate
argument_list|(
name|hashrate
argument_list|,
name|clientId
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthSubmitHashrate
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|submissionSuccessful
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
comment|//deprecated operations
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|DB_PUT_STRING
argument_list|)
DECL|method|dbPutString (Message message)
name|void
name|dbPutString
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|databaseName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATABASE_NAME
argument_list|,
name|configuration
operator|::
name|getDatabaseName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|keyName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|KEY_NAME
argument_list|,
name|configuration
operator|::
name|getKeyName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|DbPutString
argument_list|>
name|request
init|=
name|web3j
operator|.
name|dbPutString
argument_list|(
name|databaseName
argument_list|,
name|keyName
argument_list|,
name|message
operator|.
name|getBody
argument_list|(
name|String
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|DbPutString
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|valueStored
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|DB_GET_STRING
argument_list|)
DECL|method|dbGetString (Message message)
name|void
name|dbGetString
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|databaseName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATABASE_NAME
argument_list|,
name|configuration
operator|::
name|getDatabaseName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|keyName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|KEY_NAME
argument_list|,
name|configuration
operator|::
name|getKeyName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|DbGetString
argument_list|>
name|request
init|=
name|web3j
operator|.
name|dbGetString
argument_list|(
name|databaseName
argument_list|,
name|keyName
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|DbGetString
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getStoredValue
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|DB_PUT_HEX
argument_list|)
DECL|method|dbPutHex (Message message)
name|void
name|dbPutHex
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|databaseName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATABASE_NAME
argument_list|,
name|configuration
operator|::
name|getDatabaseName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|keyName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|KEY_NAME
argument_list|,
name|configuration
operator|::
name|getKeyName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|DbPutHex
argument_list|>
name|request
init|=
name|web3j
operator|.
name|dbPutHex
argument_list|(
name|databaseName
argument_list|,
name|keyName
argument_list|,
name|message
operator|.
name|getBody
argument_list|(
name|String
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|DbPutHex
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|valueStored
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|DB_GET_HEX
argument_list|)
DECL|method|dbGetHex (Message message)
name|void
name|dbGetHex
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|databaseName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATABASE_NAME
argument_list|,
name|configuration
operator|::
name|getDatabaseName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|keyName
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|KEY_NAME
argument_list|,
name|configuration
operator|::
name|getKeyName
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|DbGetHex
argument_list|>
name|request
init|=
name|web3j
operator|.
name|dbGetHex
argument_list|(
name|databaseName
argument_list|,
name|keyName
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|DbGetHex
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getStoredValue
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_VERSION
argument_list|)
DECL|method|shhVersion (Message message)
name|void
name|shhVersion
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|ShhVersion
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhVersion
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhVersion
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getVersion
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_POST
argument_list|)
DECL|method|shhPost (Message message)
name|void
name|shhPost
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|fromAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FROM_ADDRESS
argument_list|,
name|configuration
operator|::
name|getFromAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|toAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TO_ADDRESS
argument_list|,
name|configuration
operator|::
name|getToAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|topics
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TOPICS
argument_list|,
name|configuration
operator|::
name|getTopics
argument_list|,
name|List
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|data
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATA
argument_list|,
name|configuration
operator|::
name|getData
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|priority
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|PRIORITY
argument_list|,
name|configuration
operator|::
name|getPriority
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|ttl
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TTL
argument_list|,
name|configuration
operator|::
name|getTtl
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|ShhPost
name|shhPost
init|=
operator|new
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|ShhPost
argument_list|(
name|fromAddress
argument_list|,
name|toAddress
argument_list|,
name|topics
argument_list|,
name|data
argument_list|,
name|priority
argument_list|,
name|ttl
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|ShhPost
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhPost
argument_list|(
name|shhPost
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhPost
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|messageSent
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_NEW_IDENTITY
argument_list|)
DECL|method|shhNewIdentity (Message message)
name|void
name|shhNewIdentity
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|ShhNewIdentity
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhNewIdentity
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhNewIdentity
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getAddress
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_HAS_IDENTITY
argument_list|)
DECL|method|shhHasIdentity (Message message)
name|void
name|shhHasIdentity
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|identityAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|ShhHasIdentity
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhHasIdentity
argument_list|(
name|identityAddress
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhHasIdentity
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|hasPrivateKeyForIdentity
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_NEW_GROUP
argument_list|)
DECL|method|shhNewGroup (Message message)
name|void
name|shhNewGroup
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|Request
argument_list|<
name|?
argument_list|,
name|ShhNewGroup
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhNewGroup
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhNewGroup
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getAddress
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_ADD_TO_GROUP
argument_list|)
DECL|method|shhAddToGroup (Message message)
name|void
name|shhAddToGroup
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|identityAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|ShhAddToGroup
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhAddToGroup
argument_list|(
name|identityAddress
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhAddToGroup
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|addedToGroup
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_NEW_FILTER
argument_list|)
DECL|method|shhNewFilter (Message message)
name|void
name|shhNewFilter
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|String
name|data
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATA
argument_list|,
name|configuration
operator|::
name|getData
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|topics
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TOPICS
argument_list|,
name|configuration
operator|::
name|getTopics
argument_list|,
name|List
operator|.
name|class
argument_list|)
decl_stmt|;
name|org
operator|.
name|web3j
operator|.
name|protocol
operator|.
name|core
operator|.
name|methods
operator|.
name|request
operator|.
name|ShhFilter
name|shhFilter
init|=
name|Web3jEndpoint
operator|.
name|buildShhFilter
argument_list|(
name|data
argument_list|,
name|topics
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|ShhNewFilter
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhNewFilter
argument_list|(
name|shhFilter
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhNewFilter
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getFilterId
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_UNINSTALL_FILTER
argument_list|)
DECL|method|shhUninstallFilter (Message message)
name|void
name|shhUninstallFilter
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|BigInteger
name|filterId
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FILTER_ID
argument_list|,
name|configuration
operator|::
name|getFilterId
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|ShhUninstallFilter
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhUninstallFilter
argument_list|(
name|filterId
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhUninstallFilter
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isUninstalled
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_GET_FILTER_CHANGES
argument_list|)
DECL|method|shhGetFilterChanges (Message message)
name|void
name|shhGetFilterChanges
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|BigInteger
name|filterId
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FILTER_ID
argument_list|,
name|configuration
operator|::
name|getFilterId
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|ShhMessages
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhGetFilterChanges
argument_list|(
name|filterId
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhMessages
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getMessages
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|SHH_GET_MESSAGES
argument_list|)
DECL|method|shhGetMessages (Message message)
name|void
name|shhGetMessages
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
name|BigInteger
name|filterId
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FILTER_ID
argument_list|,
name|configuration
operator|::
name|getFilterId
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|ShhMessages
argument_list|>
name|request
init|=
name|web3j
operator|.
name|shhGetMessages
argument_list|(
name|filterId
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|ShhMessages
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getMessages
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
comment|// Quorum API Operations
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_NODE_INFO
argument_list|)
DECL|method|quorumNodeInfo (Message message)
name|void
name|quorumNodeInfo
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|Request
argument_list|<
name|?
argument_list|,
name|QuorumNodeInfo
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumNodeInfo
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|QuorumNodeInfo
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getNodeInfo
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_CANONICAL_HASH
argument_list|)
DECL|method|quorumCanonicalHash (Message message)
name|void
name|quorumCanonicalHash
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|Request
argument_list|<
name|?
argument_list|,
name|CanonicalHash
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumCanonicalHash
argument_list|(
name|message
operator|.
name|getBody
argument_list|(
name|BigInteger
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|CanonicalHash
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getCanonicalHash
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_VOTE
argument_list|)
DECL|method|quorumVote (Message message)
name|void
name|quorumVote
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|String
name|blockHash
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|BLOCK_HASH
argument_list|,
name|configuration
operator|::
name|getBlockHash
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|Vote
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumVote
argument_list|(
name|blockHash
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|Vote
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionHash
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_MAKE_BLOCK
argument_list|)
DECL|method|quorumMakeBlock (Message message)
name|void
name|quorumMakeBlock
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|Request
argument_list|<
name|?
argument_list|,
name|MakeBlock
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumMakeBlock
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|MakeBlock
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getBlockHash
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_PAUSE_BLOCK_MAKER
argument_list|)
DECL|method|quorumPauseBlockMaker (Message message)
name|void
name|quorumPauseBlockMaker
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|Request
argument_list|<
name|?
argument_list|,
name|VoidResponse
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumPauseBlockMaker
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|VoidResponse
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_RESUME_BLOCK_MAKER
argument_list|)
DECL|method|quorumResumeBlockMaker (Message message)
name|void
name|quorumResumeBlockMaker
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|Request
argument_list|<
name|?
argument_list|,
name|VoidResponse
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumResumeBlockMaker
argument_list|()
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|VoidResponse
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isValid
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_IS_BLOCK_MAKER
argument_list|)
DECL|method|quorumIsBlockMaker (Message message)
name|void
name|quorumIsBlockMaker
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|String
name|address
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|BlockMaker
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumIsBlockMaker
argument_list|(
name|address
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|BlockMaker
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isBlockMaker
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_IS_VOTER
argument_list|)
DECL|method|quorumIsVoter (Message message)
name|void
name|quorumIsVoter
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|String
name|address
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ADDRESS
argument_list|,
name|configuration
operator|::
name|getAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|Voter
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumIsVoter
argument_list|(
name|address
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|Voter
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|isVoter
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_GET_PRIVATE_PAYLOAD
argument_list|)
DECL|method|quorumGetPrivatePayload (Message message)
name|void
name|quorumGetPrivatePayload
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
name|Request
argument_list|<
name|?
argument_list|,
name|PrivatePayload
argument_list|>
name|request
init|=
name|quorum
operator|.
name|quorumGetPrivatePayload
argument_list|(
name|message
operator|.
name|getBody
argument_list|(
name|String
operator|.
name|class
argument_list|)
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|PrivatePayload
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getPrivatePayload
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
annotation|@
name|InvokeOnHeader
argument_list|(
name|Web3jConstants
operator|.
name|QUORUM_ETH_SEND_TRANSACTION
argument_list|)
DECL|method|quorumEthSendTransaction (Message message)
name|void
name|quorumEthSendTransaction
parameter_list|(
name|Message
name|message
parameter_list|)
throws|throws
name|IOException
block|{
if|if
condition|(
name|quorum
operator|==
literal|null
condition|)
block|{
name|setQuorumEndpointError
argument_list|(
name|message
argument_list|)
expr_stmt|;
return|return;
block|}
comment|//the same as a regular transaction, but there is no gasPrice, instead there is optional privateFor
name|String
name|fromAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|FROM_ADDRESS
argument_list|,
name|configuration
operator|::
name|getFromAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|toAddress
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|TO_ADDRESS
argument_list|,
name|configuration
operator|::
name|getToAddress
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|nonce
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|NONCE
argument_list|,
name|configuration
operator|::
name|getNonce
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|gasLimit
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|GAS_LIMIT
argument_list|,
name|configuration
operator|::
name|getGasLimit
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|BigInteger
name|value
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|VALUE
argument_list|,
name|configuration
operator|::
name|getValue
argument_list|,
name|BigInteger
operator|.
name|class
argument_list|)
decl_stmt|;
name|String
name|data
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|DATA
argument_list|,
name|configuration
operator|::
name|getData
argument_list|,
name|String
operator|.
name|class
argument_list|)
decl_stmt|;
name|List
argument_list|<
name|String
argument_list|>
name|privateFor
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|PRIVATE_FOR
argument_list|,
name|configuration
operator|::
name|getPrivateFor
argument_list|,
name|List
operator|.
name|class
argument_list|)
decl_stmt|;
name|PrivateTransaction
name|transaction
init|=
operator|new
name|PrivateTransaction
argument_list|(
name|fromAddress
argument_list|,
name|nonce
argument_list|,
name|gasLimit
argument_list|,
name|toAddress
argument_list|,
name|value
argument_list|,
name|data
argument_list|,
name|privateFor
argument_list|)
decl_stmt|;
name|Request
argument_list|<
name|?
argument_list|,
name|EthSendTransaction
argument_list|>
name|request
init|=
name|quorum
operator|.
name|ethSendTransaction
argument_list|(
name|transaction
argument_list|)
decl_stmt|;
name|setRequestId
argument_list|(
name|message
argument_list|,
name|request
argument_list|)
expr_stmt|;
name|EthSendTransaction
name|response
init|=
name|request
operator|.
name|send
argument_list|()
decl_stmt|;
name|boolean
name|hasError
init|=
name|checkForError
argument_list|(
name|message
argument_list|,
name|response
argument_list|)
decl_stmt|;
if|if
condition|(
operator|!
name|hasError
condition|)
block|{
name|message
operator|.
name|setBody
argument_list|(
name|response
operator|.
name|getTransactionHash
argument_list|()
argument_list|)
expr_stmt|;
block|}
block|}
DECL|method|setRequestId (Message message, Request request)
specifier|private
name|void
name|setRequestId
parameter_list|(
name|Message
name|message
parameter_list|,
name|Request
name|request
parameter_list|)
block|{
specifier|final
name|Long
name|id
init|=
name|message
operator|.
name|getHeader
argument_list|(
name|Web3jConstants
operator|.
name|ID
argument_list|,
name|Long
operator|.
name|class
argument_list|)
decl_stmt|;
name|LOG
operator|.
name|debug
argument_list|(
literal|"setRequestId {}"
argument_list|,
name|id
argument_list|)
expr_stmt|;
if|if
condition|(
name|id
operator|!=
literal|null
condition|)
block|{
name|request
operator|.
name|setId
argument_list|(
name|id
argument_list|)
expr_stmt|;
block|}
block|}
DECL|method|toBlockParameter (Object o)
specifier|private
name|DefaultBlockParameter
name|toBlockParameter
parameter_list|(
name|Object
name|o
parameter_list|)
block|{
name|DefaultBlockParameter
name|defaultBlockParameter
init|=
literal|null
decl_stmt|;
if|if
condition|(
name|o
operator|!=
literal|null
condition|)
block|{
try|try
block|{
name|defaultBlockParameter
operator|=
name|DefaultBlockParameter
operator|.
name|valueOf
argument_list|(
name|o
operator|.
name|toString
argument_list|()
argument_list|)
expr_stmt|;
block|}
catch|catch
parameter_list|(
name|Throwable
name|e
parameter_list|)
block|{
comment|//not one of: "latest", "earliest" or "pending"
block|}
if|if
condition|(
name|defaultBlockParameter
operator|==
literal|null
condition|)
block|{
name|defaultBlockParameter
operator|=
name|DefaultBlockParameter
operator|.
name|valueOf
argument_list|(
operator|new
name|BigInteger
argument_list|(
name|o
operator|.
name|toString
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
return|return
name|defaultBlockParameter
return|;
block|}
DECL|method|checkForError (Message message, Response response)
specifier|private
name|boolean
name|checkForError
parameter_list|(
name|Message
name|message
parameter_list|,
name|Response
name|response
parameter_list|)
block|{
if|if
condition|(
name|response
operator|.
name|hasError
argument_list|()
condition|)
block|{
name|int
name|code
init|=
name|response
operator|.
name|getError
argument_list|()
operator|.
name|getCode
argument_list|()
decl_stmt|;
name|String
name|data
init|=
name|response
operator|.
name|getError
argument_list|()
operator|.
name|getData
argument_list|()
decl_stmt|;
name|String
name|messages
init|=
name|response
operator|.
name|getError
argument_list|()
operator|.
name|getMessage
argument_list|()
decl_stmt|;
name|message
operator|.
name|setHeader
argument_list|(
name|Web3jConstants
operator|.
name|ERROR_CODE
argument_list|,
name|code
argument_list|)
expr_stmt|;
name|message
operator|.
name|setHeader
argument_list|(
name|Web3jConstants
operator|.
name|ERROR_DATA
argument_list|,
name|data
argument_list|)
expr_stmt|;
name|message
operator|.
name|setHeader
argument_list|(
name|Web3jConstants
operator|.
name|ERROR_MESSAGE
argument_list|,
name|messages
argument_list|)
expr_stmt|;
name|message
operator|.
name|getExchange
argument_list|()
operator|.
name|setException
argument_list|(
operator|new
name|CamelExchangeException
argument_list|(
literal|"Web3j failed. Error code: "
operator|+
name|code
operator|+
literal|" data: "
operator|+
name|data
operator|+
literal|" messages: "
operator|+
name|messages
argument_list|,
name|message
operator|.
name|getExchange
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
return|return
literal|true
return|;
block|}
else|else
block|{
return|return
literal|false
return|;
block|}
block|}
DECL|method|setQuorumEndpointError (Message message)
specifier|private
name|void
name|setQuorumEndpointError
parameter_list|(
name|Message
name|message
parameter_list|)
block|{
name|message
operator|.
name|getExchange
argument_list|()
operator|.
name|setException
argument_list|(
operator|new
name|CamelExchangeException
argument_list|(
literal|"This is not a Quorum endpoint. Create one by specifying quorumAPI=true"
argument_list|,
name|message
operator|.
name|getExchange
argument_list|()
argument_list|)
argument_list|)
expr_stmt|;
block|}
block|}
end_class

end_unit

